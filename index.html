<!DOCTYPE html>
<html lang="en">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#000000" />
    <!-- <meta
      name="description"
      content="Web site created using create-react-app"
    /> -->
    <link rel="stylesheet" href="index.css">
    <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" /> -->
    <title>Cross Browser 1</title>
  </head>
  <body>
   <div class="section form">
     <form name="myForm" onsubmit="return validateForm()">
       <div class="label">Fill your name to the form below :</div>
       <input type="text" name="fname" maxlength="20">
       <button type="submit">Submit</button>
      </form>
   </div>
  </body>
</html>

<script>
function validateForm(){
  let x = document.forms["myForm"]["fname"].value;
  let targetOrigin = 'http://localhost:8000'
  const payload = {
    event: 'message_name',
    message: x
  }
  window.parent.postMessage(JSON.stringify(payload), targetOrigin);
}
</script>